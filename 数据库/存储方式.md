## Redis存储方式

参考：<https://www.cnblogs.com/chenliangcl/p/7240350.html>)

<https://www.cnblogs.com/itdragon/p/7906481.html>

**RDB **

RDB持久化是指在指定的时间间隔内将内存中的数据集快照写入磁盘

特点：

1. 归档简易，恢复比较容易

2. 性能最大化，持久化通过子进程执行，可以极大的避免服务进程执行IO操作

3.   

4. 数据集较大，持久化时可能导致停服

5. 数据高可用保证较低

   ![img](image\388326-20170726161552843-904424952.png)

**AOF**

AOF持久化以日志的形式记录服务器所处理的每一个写、删除操作，查询操作不会记录，以文本的方式记录，可以打开文件看到详细的操作记录

特点：

1. 提供更高的数据安全性，每秒同步，每修改同步
2. 根据同步策略的不同，AOF在运行效率上往往会慢于RDB
3. AOF文件通常要大于RDB文件。RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

![img](image\388326-20170726161604968-371688235.png)

[AliMysql月报](<http://mysql.taobao.org/monthly/>)

